[Rainmeter]
Update=1000
AccurateText=1
RIghtMOuseUpAction=[!SkinCustomMenu]
ContextTitle=Refresh
ContextAction=[!Refresh]
ContextTitle2=Settings
ContextAction2=[!ActivateConfig "PowerToys+\@settings" "dashboard.ini"][!UpdateMeasure Unload]
SkinWidth=#GlobalW#
SkinHeight=#GlobalH#
OnRefreshAction=!WriteKeyValue #CURRENTCONFIG# Active 0 "%APPDATA%\Rainmeter\Rainmeter.ini"

[Variables]
@includeCommon=resource\Common.inc
barhandler=0

Radius=(50*#scale#)
Thickness=(6*#scale#)

[SettingImport2]
IfMatchAction=[!SetOption actualdate Text "%1%2#CRLF#%3"]

[SettingImportROUND]
Measure=String
String=#corner#
IfMatch=1
IfMatchAction=[!SetOption cornerSEC Hidden 0][!Redraw]
UpdateDivider=-1

;///////////////////////////////////////////////////////////////////////////////////////////////////
;                                              Header
;///////////////////////////////////////////////////////////////////////////////////////////////////

[SectionHeader]
text=General
[WinIcon]
ImageName=#@#icons\#IconPack#\menu.png
[date]
StringAlign=Right
text=dashboard: %1\%2
MeasureName=MeasureUsername
measurename2=MeasureComputerName
FontSize=(#scale#*10)
UpdateDivider=-1
FontColor=#DarkColor#
InlinePattern=:(.*)
InlineSetting=weight | 500

;///////////////////////////////////////////////////////////////////////////////////////////////////
;                                              Content
;///////////////////////////////////////////////////////////////////////////////////////////////////


[cornerSEC]
Meter=Shape
x=(#GlobalW#/2)
y=(30*#Scale#+#Radius#*1.5)r
shape=Ellipse 0,0,(#Radius#+#Thickness#/2),(#Radius#+#Thickness#/2) | Fill Color 0,0,0,0 | stroke color #darkcolor#,(#Alpha#/2) | strokewidth #Thickness#/2
Shape2=Ellipse 0,(0 - #Radius# - (#Thickness#/2)),(#Thickness#/2) | Fill Color #accent# | StrokeWidth 0
Shape3=Ellipse (((#Radius# + (#Thickness#/2)) * Sin(([MeasureSec:]/60*6.283)))),(- ((#Radius# + (#Thickness#/2)) * Cos(([MeasureSec:]/60*6.283)))),(#Thickness#/2) | Fill Color #accent# | StrokeWidth 0
DynamicVariables=1
AntiAlias=1
hidden=1
Container=Container

[RoundLineSEC]
Meter=Roundline
MeasureName=MeasureSec
StartAngle=4.712
RotationAngle=6.283
LineStart=#Radius#
LineLength=(#Radius# + #Thickness#)
LineColor=#Accent#
Solid=1
AntiAlias=1
x=r
y=r
Container=Container

[HeaderImage]
Meter=Image
x=(#GlobalW#/2-30*#Scale#)
Y=(-60*#Scale#/2)r
w=(60*#Scale#)
IMageName=#@#IMages\win.png
Container=Container

[actualdate]
Meter=String
X=(#GlobalW#/2)
Y=(#radius#+20*#Scale#)R
MeasureName=MeasureTime
MeasureName2=MeasureSec
measurename3=MeasureDate
Text=%1#CRLF#%3
FontSize=(#scale#*30)
FontWeight=450
StringEffect=shadow
StringAlign=centercenter
MeterStyle=RegularText
InlinePattern=#CRLF#(.*)
InlineSetting=Size | (#scale#*12)
InlinePattern2=#CRLF#(.*)
InlineSetting2=color | #darkcolor#


[ButtonsBisector]
Meter=Shape
Y=(55*#Scale#)r
MeterStyle=Bisector
Container=Container


;;=====================================
;; bars                                                                                                  
;;=====================================

[RAMBox]
MEter=Shape
X=(25*#scale#)
Y=(25*#scale#)r
Container=container
Shape=Rectangle 0,0,(#globalw#-50*#scale#),(40*#Scale#),(#Corner#*5),(#Corner#*5) | StrokeWidth 0 | Extend This
Shape2=Rectangle 0,0,((#GlobalW#-(25*#scale#)*2-1)*[MeasureUsedPercent:]*0.01),(40*#Scale#),(#Corner#*5),(#Corner#*5) | Fill Color #DarkColor#,(#Alpha#*0.3) | StrokeWidth 0
this=Fill Color #DarkColor#,(#Alpha#*0.1)
DynamicVariables=1
UpdateDivider=8
MouseOverAction=[!SetOption #CURRENTSECTION# This "Fill Color #DarkColor#,(#Alpha#*0.3)"][!UpdateMEter #CURRENTSECTION#][!redraw]
MouseLeaveAction=[!SetOption #CURRENTSECTION# This "Fill Color #DarkColor#,(#Alpha#*0.1)"][!UpdateMEter #CURRENTSECTION#][!redraw]

[MeterRAMLabel]
Meter=String
Text=RAM
X=(10*#Scale#)r
Y=(18*#Scale#)r
StringAlign=leftcenter
MeterStyle=semiboldtext
UpdateDivider=-1

[RAMTOP]
Meter=String
X=(#GlobalW#/2)
Y=r
MeasureName=MeasureRAMHigh
Text=%1
DynamicVariables=1
FontSize=(10*#scale#)
Container=container
StringAlign=CenterCenter
FontColor=#FontColor#,200
MeterStyle=RegularText

[RAMPER]
Meter=String
MeasureName=MeasureUsedPercent
Text=%1%
X=(#globalW#-35*#scale#)
Y=r
FontSize=(10*#scale#)
StringAlign=RightCenter
MeterStyle=RegularText
Container=container
UpdateDivider=5

[CPUBox]
MEter=Shape
Y=(20*#scale#)R
UpdateDivider=1
Shape2=Rectangle 0,0,((#GlobalW#-(25*#scale#)*2-1)*[MeasureCPU:]*0.01),(40*#Scale#),(#Corner#*5),(#Corner#*5) | Fill Color #DarkColor#,(#Alpha#*0.3) | StrokeWidth 0
MeterStyle=RAMBox

[MeterCPULabel]
Meter=String
Text=CPU
MeterStyle=semiboldtext | MeterRAMLabel

[CPUTOP]
Meter=String
MeasureName=MeasureCPUHigh
MeterStyle=RegularText | RAMTOP

[CPuPER]
Meter=String
Text=[MeasureCPU:1]%
DynamicVariables=1
MeterStyle=RegularText | RAMPER
UpdateDivider=1

[GPUBox]
MEter=Shape
Y=(20*#scale#)R
UpdateDivider=1
Shape2=Rectangle 0,0,((#GlobalW#-(25*#scale#)*2-1)*[MeasureGPU:]*0.01),(40*#Scale#),(#Corner#*5),(#Corner#*5) | Fill Color #DarkColor#,(#Alpha#*0.3) | StrokeWidth 0
MeterStyle=RAMBox

[MeterGPULabel]
Meter=String
Text=GPU
MeterStyle=semiboldtext | MeterRAMLabel

[GPUTOP]
Meter=String
MeasureName=MeasureGPUHigh
MeterStyle=RegularText | RAMTOP

[GPUPER]
Meter=String
Text=[MeasureGPU:1]%
DynamicVariables=1
MeterStyle=RegularText | RAMPER
UpdateDivider=1




;///////////////////////////////////////////////////////////////////////////////////////////////////
;                                              Measures
;///////////////////////////////////////////////////////////////////////////////////////////////////
[MeasureTime]
Format=%H%M
[MeasureUsername]
Measure=Plugin
Plugin=SysInfo
SysInfoType=USER_NAME
UpdateDivider=-1
[MeasureComputerName]
Measure=Plugin
Plugin=SysInfo
SysInfoType=COMPUTER_NAME
UpdateDivider=-1

;;=====================================
;; ram                                                                                                  
;;=====================================

[MeasureRAMName]
Measure=PhysicalMemory
Total=1
UpdateDivider=-1
[MeasurePhysMemUsed]
Measure=PhysicalMemory
UpdateDivider=5
[MeasureUsedPercent]
Measure=Calc
Formula=(MeasurePhysMemUsed / MeasureRAMName) * 100
UpdateDivider=5
[MeasureRAMHigh]
Measure=Plugin
Plugin=UsageMonitor
Alias=RAM
Index=1
Substitute="^0$":"0.000001"

;;=====================================
;; cpu / gpu                                                                                                  
;;=====================================

[MeasureCPU]
Measure=Plugin
Plugin=UsageMonitor
Alias=CPU
Index=0
Substitute="^0$":"0.000001"
[MeasureCPUHigh]
Measure=Plugin
Plugin=UsageMonitor
Alias=CPU
Index=1
Substitute="^0$":"0.000001"
[MeasureGPU]
Measure=Plugin
Plugin=UsageMonitor
Alias=GPU
Index=0
Blacklist=dwm
DynamicVariables=1
[MeasureGPUHigh]
Measure=Plugin
Plugin=UsageMonitor
Alias=GPU
Index=1
Substitute="^0$":"0.000001"

